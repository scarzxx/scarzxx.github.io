<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSS Filmy a Seri치ly</title>
    <style>
        body {
            background-color: #0f1115;
            color: #e0f7fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        header {
            text-align: center;
            padding: 20px 10px;
            background-color: #1a1d23;
            box-shadow: 0 2px 5px rgba(0, 188, 212, 0.2);
        }

        header h1 {
            color: #00e676;
            font-size: 2em;
        }

        header p {
            color: #81d4fa;
            font-size: 0.9em;
        }

        .container {
            padding: 10px;
            display: grid;
            gap: 15px;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        }

        .feed {
            background-color: #1e1e1e;
            border-radius: 12px;
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0, 188, 212, 0.2);
            transition: transform 0.2s ease-in-out;
        }

        .feed:hover {
            transform: translateY(-3px);
        }

        .feed h2 {
            color: #00bcd4;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .item {
            margin-bottom: 10px;
            background-color: #2a2a2a;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 1px 6px rgba(0, 255, 255, 0.1);
            transition: transform 0.2s ease;
        }

        .item:hover {
            transform: scale(1.02);
        }

        .item img {
            width: 100%;
            display: block;
            max-height: 140px;
            object-fit: cover;
        }

        .item a {
            display: block;
            padding: 10px;
            color: #69f0ae;
            font-weight: bold;
            text-decoration: none;
            font-size: 0.85em;
            background-color: #1e1e1e;
        }

        .item a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1>游꿟 RSS Filmy a Seri치ly</h1>
        <p>Na캜칤t치n칤 z Kinobox a TMDB</p>
    </header>

    <div class="container" id="feeds"></div>

    <script>
        const rssFeeds = [
            { name: "Kinobox Novinky", url: "https://raw.githubusercontent.com/scarzxx/kinobox-rss/refs/heads/main/feed/kinobox_novinky_rss.xml" },
            { name: "Kinobox Trendy", url: "https://raw.githubusercontent.com/scarzxx/kinobox-tmdb-rss-cz/refs/heads/main/feed/kinobox_trendy_rss.xml" },
            { name: "TMDB Popul치rn칤 Filmy", url: "https://raw.githubusercontent.com/scarzxx/kinobox-rss/refs/heads/main/feed/tmdb_popular_rss.xml" },
            { name: "TMDB TV Seri치ly", url: "https://raw.githubusercontent.com/scarzxx/kinobox-tmdb-rss-cz/refs/heads/main/feed/tmdb_tv_rss.xml" }
        ];

        const parser = new DOMParser();
        const feedsContainer = document.getElementById("feeds");

        async function loadFeed(feed) {
            try {
                const response = await fetch(feed.url);
                const text = await response.text();
                const xml = parser.parseFromString(text, "text/xml");
                const items = xml.querySelectorAll("item");

                const feedDiv = document.createElement("div");
                feedDiv.className = "feed";

                const title = document.createElement("h2");
                title.textContent = feed.name;
                feedDiv.appendChild(title);

                items.forEach((item, index) => {
                    if (index >= 20) return;
                    const link = item.querySelector("link")?.textContent;
                    const itemTitle = item.querySelector("title")?.textContent;
                    const cdataImg = item.innerHTML.match(/<\!\[CDATA\[.*?<img src=\"(.*?)\".*?\]\]>/);
                    const enclosureImg = item.querySelector("enclosure")?.getAttribute("url");
                    const image = cdataImg?.[1] || enclosureImg || "";

                    const itemDiv = document.createElement("div");
                    itemDiv.className = "item";

                    if (image) {
                        const img = document.createElement("img");
                        img.src = image;
                        img.alt = itemTitle;
                        itemDiv.appendChild(img);
                    }

                    const a = document.createElement("a");
                    a.href = link;
                    a.target = "_blank";
                    a.textContent = itemTitle;
                    itemDiv.appendChild(a);

                    feedDiv.appendChild(itemDiv);
                });

                feedsContainer.appendChild(feedDiv);
            } catch (err) {
                console.error("Chyba p콏i na캜칤t치n칤 kan치lu", feed.name, err);
            }
        }

        rssFeeds.forEach(feed => loadFeed(feed));
    </script>
</body>
</html>
